(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{2120:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signup",function(){return r(6669)}])},8827:function(e,t,r){"use strict";r.d(t,{Al:function(){return a},m3:function(){return i},oP:function(){return l},tq:function(){return u}});var n=r(1604);let o=n.z.string().email().transform(e=>e.toLowerCase().trim()),s=n.z.string().min(10).max(100).transform(e=>e.trim()),a=n.z.object({email:o,password:s}),i=n.z.object({email:o,password:n.z.string()}),l=n.z.object({email:o}),u=n.z.object({password:s,passwordConfirmation:s,token:n.z.string()}).refine(e=>e.password===e.passwordConfirmation,{message:"Passwords don't match",path:["passwordConfirmation"]});n.z.object({currentPassword:n.z.string(),newPassword:s})},9993:function(e,t,r){"use strict";var n=r(5893),o=r(9008),s=r.n(o);r(7294),t.Z=e=>{let{title:t,children:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:t||"blitz"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),r]})}},6669:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(5893),o=r(1163),s=r(9993),a=r(660),i=r(4425),l=(0,r(6709)._)({resolverName:"signup",resolverType:"mutation",routePath:"/signup",httpMethod:"POST"}),u=r(8827),c=r(7325);let d=e=>{let[t]=(0,c.Db)(l);return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Create an Account"}),(0,n.jsxs)(i.l0,{submitText:"Create Account",schema:u.Al,initialValues:{email:"",password:""},onSubmit:async r=>{var n,o,s;try{await t(r),null===(n=e.onSuccess)||void 0===n||n.call(e)}catch(e){if("P2002"===e.code&&(null===(o=e.meta)||void 0===o?void 0:null===(s=o.target)||void 0===s?void 0:s.includes("email")))return{email:"This email is already being used"};return{[i.Ck]:e.toString()}}},children:[(0,n.jsx)(a.I,{name:"email",label:"Email",placeholder:"Email"}),(0,n.jsx)(a.I,{name:"password",label:"Password",placeholder:"Password",type:"password"})]})]})};var m=r(9018),h=()=>{let e=(0,o.useRouter)();return(0,n.jsx)(s.Z,{title:"Sign Up",children:(0,n.jsx)(d,{onSuccess:()=>e.push(m.Z.Home())})})}},6709:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(2387),o=r(4266),s=r(4419),a=r(1608),i=(e,t,r)=>new Promise((n,o)=>{var s=e=>{try{i(r.next(e))}catch(e){o(e)}},a=e=>{try{i(r.throw(e))}catch(e){o(e)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,a);i((r=r.apply(e,t)).next())});function l({resolverName:e,resolverType:t,routePath:l,httpMethod:u}){var c;let d=(c="/api/rpc"+l,(0,n.normalizePathTrailingSlash)((0,o.addBasePath)(c))),m=new URL(d,window.location.origin),h=(e,...t)=>i(this,[e,...t],function*(e,t={},n){let o;let c=(yield r.e(629).then(r.t.bind(r,9474,19))).default("blitz:rpc");if(t.fromQueryHook||t.fromInvoke||console.warn("[Deprecation] Directly calling queries/mutations is deprecated in favor of invoke(queryFn, params)"),a.c)return Promise.resolve();c("Starting request for",d,"with",e,"and",t),o=t.alreadySerialized?e:(0,s.qC)(e),"GET"===u&&o.json&&(m.searchParams.set("params",(0,s.Pz)(o.json)),m.searchParams.set("meta",(0,s.Pz)(o.meta)));let{beforeHttpRequest:h,beforeHttpResponse:f}=globalThis.__BLITZ_MIDDLEWARE_HOOKS,p=window.fetch(m,h({method:u,headers:{"Content-Type":"application/json"},credentials:"include",redirect:"follow",body:"POST"===u?JSON.stringify({params:o.json,meta:{params:o.meta}}):void 0,signal:n})).then(n=>i(this,null,function*(){var o,a;if(c("Received request for",l),(n=f(n)).ok){let i;try{i=yield n.json()}catch(t){let e=Error(`Failed to parse json from ${l}`);throw e.stack=null,e}if(i.error){let e=(0,s.vB)({json:i.error,meta:null==(o=i.meta)?void 0:o.error}),t=new CustomEvent("blitz:rpc-error",{detail:e});document.dispatchEvent(t);let r=e.message.match(/invalid.*prisma.*invocation/i);throw!r||"code"in e||((e=Error(r[0])).statusCode=500),e.stack=null,e}{let n=(0,s.vB)({json:i.result,meta:null==(a=i.meta)?void 0:a.result});if(!t.fromQueryHook){let{getQueryKeyFromUrlAndParams:t}=yield Promise.resolve().then(r.bind(r,9947)),o=t(l,e);globalThis.queryClient.setQueryData(o,n)}return n}}{let e=Error(n.statusText);throw e.statusCode=n.status,e.path=l,e.stack=null,e}}));return p});return h._isRpcClient=!0,h._resolverName=e,h._resolverType=t,h._routePath=d,h}}},function(e){e.O(0,[504,761,774,888,179],function(){return e(e.s=2120)}),_N_E=e.O()}]);